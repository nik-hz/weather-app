(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{107:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a(9),c=a.n(r),o=a(43),i=a(20),s=a(62),l=a(16),u=a(49),d=a(18),h=a(24),p=a.n(h),j=a(44),b=a(45),f=a.n(b),g="FETCH_LOCATION",O="FETCH_WEATHER",m="INITIAL_COORD_LOCATION",x=a(144),y=a(152),v=a(153),w=a(148),C=a(151),L=a(149),N=a(150),W=a(64),k=a.n(W),A=a(63),E=a.n(A),T=a(65),I=a.n(T),S=a(66),F=a.n(S),R=a(67),_=a.n(R),D=a(6),H=Object(x.a)((function(t){return{root:{minWidth:275,display:"flex",flexWrap:"wrap",marginBottom:5,justifyContent:"center"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},input:{},textField:{marginLeft:t.spacing(1),marginRight:t.spacing(1),width:"25ch"},cardAction:{justifyContent:"center"},button:{margin:t.spacing(1)}}})),P=Object(o.b)((function(t){return{location:t.location,weather:t.weather}}),{fetchLocation:function(t,e){return function(){var t=Object(j.a)(p.a.mark((function t(e,a){var n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(){var t=Object(j.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,navigator.geolocation.getCurrentPosition((function(t){return{longitude:t.coords.latitude,latitude:t.coords.longitude}}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.next=3,f.a.get("https://api.bigdatacloud.net/data/reverse-geocode-client",{params:{latitude:n.latitude,longitude:n.longitude,localityLanguage:"en"}});case 3:r=t.sent,e({type:m,payload:r});case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},fetchWeatherAndCity:function(t,e){return function(){var a=Object(j.a)(p.a.mark((function a(n,r){var c,o,i,s,l;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c=r().location.data,o=c.city,c.countryCode,i=c.countryName,a.next=4,f.a.get("https://api.openweathermap.org/data/2.5/weather",{params:{q:"".concat(t||o,",").concat(e||i),units:"metric",appid:"386bccd20d1ba060a2c3c46179352d7b"}});case 4:return s=a.sent,console.log(s),a.next=8,f.a.get("https://api.bigdatacloud.net/data/reverse-geocode-client",{params:{latitude:s.data.coord.lat,longitude:s.data.coord.lon,localityLanguage:"en"}});case 8:l=a.sent,n({type:g,payload:l}),n({type:O,payload:s}),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),console.error(a.t0);case 16:case"end":return a.stop()}}),a,null,[[0,13]])})));return function(t,e){return a.apply(this,arguments)}}()}})((function(t){var e=t.fetchLocation,a=t.fetchWeatherAndCity,r=t.location,c=t.weather,o=H(),i=Object(n.useState)({city:"",country:""}),s=Object(d.a)(i,2),h=s[0],p=s[1];Object(n.useEffect)((function(){return e(),console.log("fetchLocation ran in Weather useEffect hook"),function(){}}),[]);var j=function(t){p(Object(u.a)(Object(u.a)({},h),{},Object(l.a)({},t.target.name,t.target.value)))};return Object(D.jsxs)("div",{children:[Object(D.jsx)(w.a,{className:o.root,children:Object(D.jsx)(L.a,{children:Object(D.jsx)(N.a,{variant:"h5",children:"Demo Weather App"})})}),Object(D.jsx)(w.a,{className:o.root,children:Object(D.jsx)(L.a,{children:Object(D.jsxs)("form",{onSubmit:function(t){return function(t){console.log(t),t.preventDefault(),console.log(h),a(h.city,h.country)}(t)},children:[Object(D.jsxs)("div",{className:o.root,children:[Object(D.jsx)(y.a,{id:"standard-full-width",label:"City",helperText:"Enter the full name",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},type:"text",placeholder:r.data?r.data.city:"City",name:"city",onChange:function(t){return j(t)}}),Object(D.jsx)(y.a,{id:"standard-full-width",label:"Country",helperText:"Enter the full name",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},type:"text",placeholder:r.data?r.data.countryName:"Country",name:"country",onChange:function(t){return j(t)}})]}),Object(D.jsx)(C.a,{className:o.cardAction,children:Object(D.jsx)(v.a,{variant:"contained",className:o.button,type:"submit",children:"Weather Forecast"})})]})})}),Object(D.jsxs)(w.a,{className:o.root,children:[Object(D.jsxs)(L.a,{className:o.cardAction,children:[Object(D.jsx)(N.a,{variant:"h6",children:"Weather"}),Object(D.jsxs)(N.a,{variant:"subtitle1",children:[c.data?function(t){switch(t){case"Clear":return Object(D.jsx)(E.a,{});case"Clouds":return Object(D.jsx)(k.a,{});case"Rain":return Object(D.jsx)(I.a,{});case"Snow":return Object(D.jsx)(F.a,{});case"Mist":return Object(D.jsx)(_.a,{});default:return"loading"}}(c.data.weather[0].main):"Loading",Object(D.jsx)("br",{}),c.data?c.data.weather[0].description:"Loading",Object(D.jsx)("br",{}),c.data?c.data.main.temp:"Loading"," ","degrees celsius"]})]})," "]})]})})),q=Object(i.c)({location:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case m:return e.payload;case g:return console.log(e.payload),e.payload;default:return t}},weather:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case O:return e.payload;default:return t}}}),B=Object(i.e)(q,Object(i.d)(Object(i.a)(s.a),window.devToolsExtension?window.devToolsExtension():function(t){return t}));c.a.render(Object(D.jsx)(o.a,{store:B,children:Object(D.jsx)(P,{})}),document.querySelector("#root"))}},[[107,1,2]]]);
//# sourceMappingURL=main.290e63e8.chunk.js.map